# Kubernetes 权限控制
Kubernetes 的权限控制这块是理解其搭建过程中比较复杂也是比较重要的部分，这里先简单介绍下相关概念，为后面打下基础。

## Namespace
Kubernetes 集群中可包含多个 namespace，它们在逻辑上相互隔离，比如测试和生产如果在同一个 Kubernetes 集群上，可以用 namaspace 将它们隔离开，互不干扰。当然也可以通过一些方式跨 namespace 访问和操作，前提是分配了足够的权限。

## RBAC——基于角色的访问控制
Kubernetes 的权限控制主要使用基于角色的访问控制（Role-Based Access Control, 即”RBAC”），简单来说，就是不管是集群管理员还是集群中的程序，把它们都看用户，它们要想对集群进行访问或操作，就需要相应的权限，权限通过角色来代表，每个角色可以被赋予一组权限，角色可以绑定到用户上，绑定之后用户就拥有了相应的权限。

## 用户与用户组
Kubernetes 集群中包含两类用户：
- `User` : 限制集群管理员的权限。比如刚开始学习我们可以都用最高管理员权限，可以在集群中任何 namespace 下进行访问和各种操作。到了生产环境，如果集群比较大，操作的人比较多，管理员权限的分配可能就需要更加细化了。
- `Service Account` : 限制集群中运行的程序的权限。比如 Kubernetes 自身的组件或一些插件，往往它们都需要对整个集群的一些状态和数据进行读写操作，就需要相应的权限。  
  
用户组：
- `Group` : 用于给一组用户赋予相同的权限。

## 角色
角色用来代表一组权限，在 Kubernetes 中有两类角色：
- `Role` : 代表某个 namaspace 下的一组权限。
- `ClusterRole` : 代表整个集群范围内的一组权限。

## 角色绑定
可以给某个用户或某个用户组分配一组权限，通过角色绑定来实现。分两类：
- `RoleBinding` : 绑定的权限只作用于某个 namespace 下。
- `ClusterRoleBinding` : 绑定的权限作用于整个集群。
